[package]
name = "crdyboot"
version = "0.1.0"
authors = ["Nicholas Bishop <nicholasbishop@google.com>"]
edition = "2018"
resolver = "2"

[dependencies]
log = "0.4"

# TODO: one current master (fb95246a2) is released, can switch these
# two deps to crates.io.
uefi = { git = "https://github.com/rust-osdev/uefi-rs.git", features = ["exts", "ignore-logger-errors"] }
uefi-services = { git = "https://github.com/rust-osdev/uefi-rs.git" }

vboot = { path = "../vboot" }

[patch.crates-io]
# This is needed to fix uefi-services' dep on uefi
uefi = { git = "https://github.com/rust-osdev/uefi-rs.git" }
# Branch: "bishop-no-128-panic"
num-bigint = { package = "num-bigint-dig", git = "https://github.com/nicholasbishop/num-bigint.git", rev = "a2dc57562dd459dca0edaf539acca610bc4807d8" }
# Branch: "bishop-disable-u64-digit"
rsa = { git = "https://github.com/nicholasbishop/RSA.git", rev = "8106a1890773c6ef898fd7eb0becc2023456d673", default-features = false, features = ["alloc"] }

[profile.release]
overflow-checks = true
