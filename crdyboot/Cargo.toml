[package]
name = "crdyboot"
version = "0.1.0"
edition = "2018"
resolver = "2"

[dependencies]
log = "0.4"

# TODO: get remaining stuff in the integration branch PR'd and merged upstream
# and into a new uefi-rs release, then switch these two deps back to crates.io.
uefi = { git = "https://github.com/nicholasbishop/uefi-rs.git", branch = "bishop-integration-branch", features = ["exts", "ignore-logger-errors"] }
uefi-services = { git = "https://github.com/nicholasbishop/uefi-rs.git", branch = "bishop-integration-branch" }

vboot = { path = "../vboot" }

[patch.crates-io]
# This is needed to fix uefi-services' dep on uefi
uefi = { git = "https://github.com/nicholasbishop/uefi-rs.git", branch = "bishop-integration-branch" }
# TODO: once commit 56576b592fea6341b7e1711a1629e4cc1bfc419c is in an
# official release can switch to that.
num-bigint = { package = "num-bigint-dig", git = "https://github.com/dignifiedquire/num-bigint.git" }
# Branch: "bishop-disable-u64-digit"
rsa = { git = "https://github.com/nicholasbishop/RSA.git", rev = "8106a1890773c6ef898fd7eb0becc2023456d673", default-features = false, features = ["alloc"] }

[profile.release]
overflow-checks = true
