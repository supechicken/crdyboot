{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "e313f364_b299365f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1501785
      },
      "writtenOn": "2022-08-05T15:52:41Z",
      "side": 1,
      "message": "I tried running `cargo xtask setup` but it failed:\nhttps://paste.googleplex.com/5557327578005504\n\nAre we missing some dependency?",
      "revId": "f1ca5f41cc8a1ce481a4d996a17646df6d4bad4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "faa400f3_327b3e70",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1481202
      },
      "writtenOn": "2022-08-05T15:55:25Z",
      "side": 1,
      "message": "That should be covered by https://chromium.googlesource.com/crdyboot/+/refs/heads/main#dependencies, specifically libflashrom-dev.",
      "parentUuid": "e313f364_b299365f",
      "revId": "f1ca5f41cc8a1ce481a4d996a17646df6d4bad4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d3946094_9481c890",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1501785
      },
      "writtenOn": "2022-08-05T16:11:35Z",
      "side": 1,
      "message": "Thanks, that did the trick! Now I am hitting another error running `cargo xtask check`:\nhttps://paste.googleplex.com/6207731387072512",
      "parentUuid": "faa400f3_327b3e70",
      "revId": "f1ca5f41cc8a1ce481a4d996a17646df6d4bad4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "66e705b5_a3048163",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1481202
      },
      "writtenOn": "2022-08-05T16:19:03Z",
      "side": 1,
      "message": "I think that\u0027s due to the image not having rootfs verification enabled. Filed b/241557362 to document this and make the tool verify it.",
      "parentUuid": "d3946094_9481c890",
      "revId": "f1ca5f41cc8a1ce481a4d996a17646df6d4bad4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d0667a9e_0a2fc9a4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1501785
      },
      "writtenOn": "2022-08-05T17:30:00Z",
      "side": 1,
      "message": "The issue still reproduces when I run `cargo xtask check` after running `cargo xtask setup chromiumos_base_image.bin` with a newly-created ToT reven base image. I made sure to clear the `vboot_reference/build` directory as well.",
      "parentUuid": "66e705b5_a3048163",
      "revId": "f1ca5f41cc8a1ce481a4d996a17646df6d4bad4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4dcd1d71_890c48b3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1548047
      },
      "writtenOn": "2022-08-05T17:57:43Z",
      "side": 1,
      "message": "I was able to `cargo xtask setup` and `cargo xtask check` with an image off of goldeneye. Uninstalling openssl1.1 after installing it from source was quite painful though.",
      "revId": "f1ca5f41cc8a1ce481a4d996a17646df6d4bad4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b44bb402_158b1069",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1481202
      },
      "writtenOn": "2022-08-05T19:06:58Z",
      "side": 1,
      "message": "Looks like I didn\u0027t read your error output carefully enough. I\u0027m unsure where those differences between cmdlines are coming from. I\u0027ll ponder a bit about what a good way to solve this is.",
      "parentUuid": "d0667a9e_0a2fc9a4",
      "revId": "f1ca5f41cc8a1ce481a4d996a17646df6d4bad4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "123a8844_dbd86ea8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1501785
      },
      "writtenOn": "2022-08-05T20:34:51Z",
      "side": 1,
      "message": "I tried one last time after completely nuking my crdyboot checkout and still got:\nhttps://paste.googleplex.com/5099933022552064\n\nIs it possible the image has something to do with this (it was created with verity), or do you already see the problem in the command line?",
      "parentUuid": "b44bb402_158b1069",
      "revId": "f1ca5f41cc8a1ce481a4d996a17646df6d4bad4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d6195d6f_1ab64cac",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1481202
      },
      "writtenOn": "2022-08-05T21:13:31Z",
      "side": 1,
      "message": "I think the source image is indeed the cause, but I\u0027m not clear on why your source image would have this slightly different set of kernel parameters. Is it possible the image is a different board (e.g. reven-vmtest?) I didn\u0027t think the rootfs size was different on that, but it seems that something like that is going on.",
      "parentUuid": "123a8844_dbd86ea8",
      "revId": "f1ca5f41cc8a1ce481a4d996a17646df6d4bad4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3ccbb2b1_67f6b03d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1501785
      },
      "writtenOn": "2022-08-05T21:17:14Z",
      "side": 1,
      "message": "It was actually a reven base image, built in a freshly-synced ToT chroot. Let me grab the most recent ToT image from GoldenEye to see if I have better luck.",
      "parentUuid": "d6195d6f_1ab64cac",
      "revId": "f1ca5f41cc8a1ce481a4d996a17646df6d4bad4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a9f3ccdc_beb2c5db",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1501785
      },
      "writtenOn": "2022-08-05T21:31:07Z",
      "side": 1,
      "message": "I got the same result using the base image from this build:\nhttps://pantheon.corp.google.com/storage/browser/chromeos-releases/dev-channel/reven/15027.0.0;tab\u003dobjects?prefix\u003d\u0026forceOnObjectsSortingFiltering\u003dfalse\n\nAt this point I am fine with submitting and just chalking this up to an environmental issue on my Cloudtop: what really matters is that it builds on chromeos infra. Plus the code LFtM.",
      "parentUuid": "3ccbb2b1_67f6b03d",
      "revId": "f1ca5f41cc8a1ce481a4d996a17646df6d4bad4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7be307c1_bdb284dd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1481202
      },
      "writtenOn": "2022-08-05T21:39:12Z",
      "side": 1,
      "message": "Sounds good. I would still like to improve that test; it\u0027s too strict as your situation shows. So I\u0027ll keep thinking about how best to improve that without letting the test be too lax and potentially miss a real error.",
      "parentUuid": "a9f3ccdc_beb2c5db",
      "revId": "f1ca5f41cc8a1ce481a4d996a17646df6d4bad4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e83e48cb_3d42833c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1501785
      },
      "writtenOn": "2022-08-05T21:41:27Z",
      "side": 1,
      "message": "Hrmm, it succeeded when I tried the test image from the same build:\n```\n    Checking xtask v0.1.0 (/usr/local/google/home/josephsussman/repos/chromium/crdyboot/xtask)\n    Finished dev [unoptimized + debuginfo] target(s) in 13.60s\n```\nThis is the setup command I used:\n```\ncargo xtask setup image/chromiumos_test_image.bin\n```\nSo the base image from the linked build fails and the test image succeeds.",
      "parentUuid": "7be307c1_bdb284dd",
      "revId": "f1ca5f41cc8a1ce481a4d996a17646df6d4bad4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}